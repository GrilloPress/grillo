!!!
%html
  %head
    %meta{:charset => "utf-8"}/
    %meta{:content => "IE=edge;chrome=1", "http-equiv" => "X-UA-Compatible"}/
    %meta{:content => "width=device-width, initial-scale=1", :name => "viewport"}/
    %title
      GrilloPress#{' - ' + current_article.title unless current_article.nil?}
    = feed_tag :atom, "#{blog.options.prefix.to_s}/feed.xml", title: "Atom Feed"
    = stylesheet_link_tag 'main'
    = javascript_include_tag 'main'
  %body
    %nav.navbar
      %div.navbar-container
        %div
          = link_to "Andrew Duckworth", "/"
    #main.container{:role => "main"}
      %article.blog-post
        %h1
          = current_page.data.title
        = yield

        %nav.pagination
          .prev
            - prev_article = current_article.previous_article
            - if prev_article
              Previous:
              %a{ :rel => "prev", :href => prev_article.url }= prev_article.title
          .next
            - next_article = current_article.next_article
            - if next_article
              Next:
              %a{ :rel => "next", :href => next_article.url }= next_article.title
      %aside.sidebar
        %h2 Recent Articles
        %ol
          - blog.articles[0...10].each do |article|
            %li
              = link_to article.title, article
              %span= article.date.strftime('%b %e')
        %h2 Tags
        %ol
          - blog.tags.each do |tag, articles|
            %li= link_to "#{tag} (#{articles.size})", tag_path(tag)
        %h2 By Year
        %ol
          - blog.articles.group_by {|a| a.date.year }.each do |year, articles|
            %li= link_to "#{year} (#{articles.size})", blog_year_path(year)
